{% extends "base.html" %}

{% block content %}

<div class="alert alert-info">
  <strong>{{ experiments|length }} experiments selected</strong>
  {% if experiments|length < 10 %}
    :
    <ul>
      {% for exp in experiments %}
        <li>{{ exp.experiment_name }}</li>
      {% endfor %}
    </ul>
  {% endif %}
</div>

{# TODO more styling info with cards including images at https://v4-alpha.getbootstrap.com/components/card/ #}
{# TODO - could use ajax / javascript to show download in process after clicking export to excel and stops spinning when done ... can be slow  #}
<div class="results">
    <table>
        <tr><td colspan="2" bgcolor="#003f3f" align="center"><span style="color: white; font-weight:bold; ">Access or Export Results</span></td></tr>
      <tr style="background-color:#ffffff;">
          <th> Gene-level analysis </th>
          <td> &nbsp; <a href="{% url 'tp:gene-foldchange' %}" class="btn btn-primary">Results in Browser</a>
               {% if experiments|length < 50 %}
               <a href="{% url 'tp:export-result' restype='foldchangeresult' %}" class="btn btn-default">Export to Excel</a>
               {% endif %}
          </td>
      </tr>
      <tr style="background-color:#c5dddd;">
          <th> WGCNA module analysis </th>
          <td> &nbsp; <a href="{% url 'tp:module-scores' %}" class="btn btn-primary">Results in Browser</a>
               {% if experiments|length < 50 %}
               <a href="{% url 'tp:export-result' restype='modulescores' %}" class="btn btn-default">Export to Excel</a>
               {% endif %}
          </td>
      </tr>
      <tr style="background-color:#ffffff;">
          <th> Gene set enrichment analysis </th>
          <td> &nbsp; <a href="{% url 'tp:gsa-scores' %}" class="btn btn-primary">Results in Browser</a>
               {% if experiments|length < 50 %}
               <a href="{% url 'tp:export-result' restype='gsascores' %}" class="btn btn-default">Export to Excel</a>
               {% endif %}
          </td>
      </tr>
      <tr style="background-color:#c5dddd;">
   {% if experiments|length < 50 %}
       <th> Most similar experiments </th>
          <td> &nbsp; <a href="{% url 'tp:similar-exps' %}" class="btn btn-primary">Results in Browser</a>
               <a href="{% url 'tp:export-result' restype='experimentcorrelation' %}" class="btn btn-default">Export to Excel</a>
          </td>
      </tr>
      <tr style="background-color:#ffffff;">
   {% endif %}
          <th> Clinical chemistry and/or histology (if available) </th>
          <td> &nbsp; <a href="{% url 'tp:toxicology-results' %}" class="btn btn-primary">Results in Browser</a>
               {% if experiments|length < 50 %}
               <a href="{% url 'tp:export-result' restype='toxicologyresult' %}" class="btn btn-default">Export to Excel</a>
               {% endif %}
          </td>
      </tr>
    </table>
</div>

{% endblock content %}
